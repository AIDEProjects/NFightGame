# NFightGame 0.9.x

## [Java Doc](readme/docs/javadoc/index.html) 仅本地

## 待办
- [ ] 有个bug: 蜥蜴人触发器没有喷到玩家喷到靶子死去位置会击伤玩家
- [ ] 滑铲
- [ ] 增加棍子武器：平A4连，一个小技能
- [ ] 做一个关卡：一个过关传送门，一个墙贴图，一种地面贴图，一种回血道具，一种伤害陷阱，选关界面，结算界面(死亡或胜利)
- [ ] 设置碰撞过滤层
- [ ] 做个演示列表屏幕把每个做好的功能独立演示以便之后记得怎么用
- [ ] 速度过快空气墙问题
- [ ] 做一个可以点击世界中元素来在右边的ui面板化其变量并可以修改
- [ ] 类路径重整理
- [ ] 输入系统为单例，输入管理器组件为实例可开关

## 项目配置
- `libgdx`-1.12.1
  - `freetype`-1.12.1
- ``idea``-2024.3
- `java`-1.8
- `gradle`
  - `gradle`-7.6.2
  - `AGP`-7.4.1
- `android`
  - `compileSdk` 30
  - `targetSdk` 34
  - `minSdk` 21

## 项目进度
### 0.1.0 实现基于锚点渲染图片角色
1. 渲染图片角色
2. 给定锚点(脚底)坐标渲染角色精准站在地板上
3. 可控制位移, 缩放, 翻转

### 0.1.1 封装图像角色与渲染器
1. 制作一个图像角色类用于装下角色各属性: 位置, 翻转, 缩放, 图像
2. 制作图像角色渲染器专门渲染图像角色

### 0.1.2
1. 将绘制坐标转换与翻转等处理封装为方法并将draw封装到role自身, 取消了渲染器

### 0.1.3
1. 实现角色圆形攻击范围的调试线绘制

### 0.1.4
1. 增加动画器角色类

### 0.2.0
1. 对现有类进行再封装
2. 封装了GObject作为组件集合体， TextureComponent为材质组件拥有相关属性方法，以及TextureRenderer独立处理图像渲染

### 0.3.0
1. 规范化代码结构：抽象出IComponent IRenderer接口与其实现类
2. 将基本属性封装到TransformComponent并默认绑定GObject创建时生成
3. 独立开transfrom，textureComp，animatorComp, circleColliderComp等组件属性方法结构
4. 设置单独debugRenderer用于调试线渲染

#### 0.3.1 增加ui_skin等资源以及配套工具类

#### 0.3.2 纠正size属性: 从trans转到tex组件, 应该属于图片的专有属性

### 0.4.0
1. 增加新的演示RoleCollision演示用于展示几何碰撞
2. 实现圆与圆,圆与矩形, 矩形与矩形碰撞逻辑, 以及阻挡
3. 规范分类现有类路径

### 0.5.x
1. 封装矩形与圆形碰撞器组件
2. 增加碰撞器处理系统处理碰撞器间碰撞 
3. 修复低级bug：只有hasTexComp组件才可添加到渲染器
4. 增加触屏控制移动用于之后碰撞阻挡效果演示 
5. 实例化一个矩形碰撞器并加入调试渲染器中 
6. 抽象碰撞器基类ColliderComponent，将DebugRenderer改名Gizmos，并且大改实现：现在使用静态方法随时推入绘制列表并在render()统一绘制并清空，在collider的drawGizmos独立绘制自身调试线 
7. 完成碰撞器组件封装，以及物理系统检测与阻挡，接下来将独立出运动组件用于处理运动物体

#### 0.5.8 封装RigidbodyComponent

#### 0.5.9 修复严重性能问题: gizmos的shape大量占用内存, 使用clear清理后解决

### 0.6.0 基础物理移动阻挡重力
- [x] 给hero增加rigi组件
- [x] RoleController组件使用rigi.velocity替代直接pos设置
- [x] 增加两个矩形障碍物
- [x] 将应用速度逻辑放到physics系统: 无碰撞则应用, 否则取消
- [x] rigi组件增加重力开关, physics系统增加重力参数并自动演算

#### 0.6.1
- [x] 解决人物粘在物体上的问题: 使用分轴检测解决

### 0.7.0 人物现在有碰撞体以及攻击区域检测器
- [x] GObject组件表改良为<type, List<Comp>>形式, 可添加多个同类组件, 并增加getComponent(type, index)索引获取
- [x] collider组件设置isTrigger标记是否触发器, 触发器不参与物理碰撞
- [x] 给hero添加第二个circle碰撞器设置为trigger触发器

### 0.8.0 系统化架构雏形, 以及简单的敌人并可攻击
- [x] 增加GameSystem类并将所有系统加入其管理
- [x] 在增加或移除组件方法中调用游戏系统的更新管理列表方法，识别组件并加入或移出对应的分系统管理列表中，达到自动管理的目的
- [x] 增加攻击键并实现攻击动画，以及攻击帧时才启用攻击碰撞器
- [x] 增加敌人：靶桩，待机动画，受击动画
- [x] 增加靶桩组件，并提供受击方法调用时播放受击
- [x] 为texture组件设置独立scale属性以便单独缩放图像
- [x] 碰撞器组件添加正在碰撞对象列表，并在物理系统进行管理
- [x] 增加碰撞回调事件，当触发器进入/退出时
- [x] 敌人受击播放受击动画结束后回到待机
- [x] 增加spriteFace用于定义角色图像初始的朝向
- [x] 将所有Texturexxx更名为Sprite渲染器, sprite组件等等

### 0.9.0
- [x] 增大到1.5倍画面分辨率, 让视野更广, 并添加更多障碍
- [x] 跟随相机
- [x] 显示帧率
- [x] 清理无用代码: 弃用演示
- [x] 取消非必要的fixedUpdate且不同帧率下速度一致了
- [x] 增加血条且能扣血
- [x] 增加按键控制人物
- [x] 增加ctrl下蹲与下蹲时行走

### 0.10.0 完成状态机与动画机以及输入系统
- [x] 完成hero待机与移动状态
- [x] 完成跳跃
- [x] 物理管理对象从组件转为游戏物体本身: 一个GObject可能有多个碰撞器组件应使用GObject本身, 并查找其Rigi与碰撞器作为一个物理单位
- [x] 下蹲, 起立, 蹲行
- [x] 攻击
- [x] 受击, 死亡

#### 0.10.1
- [x] 完成Dummy靶子状态机
- [x] 组件和gobject增加destroy方法用于销毁并移除于系统管理列表

#### 0.10.2 现在主角和靶子是一个状态完备的生物了
- [x] 增加介绍文字
- [x] 空中攻击
- [x] 增加重生状态

#### 0.10.3 完成蜥蜴人状态, 玩家操控
- [x] 疾跑
- [x] 大范围整理类路径
- [x] 蜥蜴人状态机: 待机移动攻击受伤死亡重生跳跃

### 0.11.0 仿UnityInputSystem
- [x] 增加输入管理器
- [x] 仿UnityInputSystem基本完成
#### 0.11.1 实装到状态机
- [x] 实装游戏输入系统与实体输入管理组件到角色
- [x] 增加触控按钮， 以及增加切换角色按钮用于转移输入器输出对象

#### 0.11.2
- [x] 调整ui位置
- [x] 修复一些按钮bug
- [x] 调整类路径
- [x] 修复跳跃

#### 0.11.3
- [x] 增加两面高墙用于练习反复跳墙
- [x] 增加世界文字组件用于在世界上绘制文字

#### 0.11.4
- [x] 实现新矩形物理碰撞
- [x] 给GObject增加name属性方便辨认

#### 0.11.5
- [ ] 增加一片背景与一些障碍
